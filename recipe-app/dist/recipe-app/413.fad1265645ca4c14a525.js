"use strict";(self.webpackChunkrecipe_app=self.webpackChunkrecipe_app||[]).push([[413],{413:(b,m,a)=>{a.r(m),a.d(m,{UserModule:()=>A});var f=a(8583),l=a(9516),c=a(8756);class h{constructor(r,t,o,n){this.id=r,this.description=o,this.instructions=n,this.name=t}}var e=a(3018),Z=a(1312),u=a(5939),d=a(665),v=a(1095);function T(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",1),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().goToRecipeBuilder(s.id)}),e._uU(2),e.qZA(),e.qZA()}if(2&i){const t=r.$implicit;e.xp6(2),e.AsE("",t.name,":",t.description,"")}}let C=(()=>{class i{constructor(t,o,n,s){var p,g;this._Activatedroute=t,this._router=o,this.dialog=n,this.server=s,this.user="",this.recipes=[],this._router&&(null===(p=this._router.getCurrentNavigation())||void 0===p?void 0:p.extras.state)&&(this.routeState=null===(g=this._router.getCurrentNavigation())||void 0===g?void 0:g.extras.state,this.routeState&&(this.user=this.routeState.user,localStorage.setItem("username",this.user))),localStorage.getItem("username")&&(this.user=localStorage.getItem("username")||"")}ngOnInit(){this.server.getRecipes({}).then(t=>{var o;if("ok"===t.body.status){console.log(t.body.recipes);for(let n of t.body.recipes)null===(o=this.recipes)||void 0===o||o.push(new h(n.recipe_id,n.name,n.description))}})}goToRecipeBuilder(t){t&&this._router.navigateByUrl("/recipe-builder",{state:{recipeId:t}})}addRecipe(){this.dialog.open(U,{width:"250px",data:{type:"recipe",name:"",description:""}}).afterClosed().subscribe(o=>{null!=o&&this.server.createRecipe({name:o.name,description:o.description}).then(n=>{var s;"ok"===n.body.status&&(console.log(n),null===(s=this.recipes)||void 0===s||s.push(new h(n.body.recipeId,o.name,o.description)))}).catch(n=>{console.log(n)})})}addChecklist(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(l.gz),e.Y36(l.F0),e.Y36(c.uw),e.Y36(Z.N))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-information"]],decls:11,vars:2,consts:[["label","Recipes"],[3,"click"],[4,"ngFor","ngForOf"],["label","Checklists"]],template:function(t,o){1&t&&(e.TgZ(0,"div"),e.TgZ(1,"h3"),e._uU(2),e.qZA(),e.qZA(),e.TgZ(3,"mat-tab-group"),e.TgZ(4,"mat-tab",0),e.TgZ(5,"button",1),e.NdJ("click",function(){return o.addRecipe()}),e._uU(6," Add Recipe "),e.qZA(),e.YNc(7,T,3,2,"div",2),e.qZA(),e.TgZ(8,"mat-tab",3),e.TgZ(9,"button",1),e.NdJ("click",function(){return o.addChecklist()}),e._uU(10," Add Checklist "),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.hij(" Welcome,",o.user," "),e.xp6(5),e.Q6J("ngForOf",o.recipes))},directives:[u.SP,u.uX,f.sg],styles:[""]}),i})(),U=(()=>{class i{constructor(t,o){this.dialogRef=t,this.data=o,this.type=""}onNoClick(){this.dialogRef.close()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(c.so),e.Y36(c.WI))},i.\u0275cmp=e.Xpm({type:i,selectors:[["recipe-creation-dialog"]],decls:11,vars:3,consts:[["matInput","","name","description",3,"ngModel","ngModelChange"],["mat-button","",3,"click"],["mat-button","",3,"mat-dialog-close"]],template:function(t,o){1&t&&(e.TgZ(0,"p"),e._uU(1,"Name:"),e.qZA(),e.TgZ(2,"input",0),e.NdJ("ngModelChange",function(s){return o.data.name=s}),e.qZA(),e.TgZ(3,"p"),e._uU(4,"Description:"),e.qZA(),e.TgZ(5,"input",0),e.NdJ("ngModelChange",function(s){return o.data.description=s}),e.qZA(),e.TgZ(6,"mat-dialog-actions"),e.TgZ(7,"button",1),e.NdJ("click",function(){return o.onNoClick()}),e._uU(8,"No"),e.qZA(),e.TgZ(9,"button",2),e._uU(10,"Yes"),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngModel",o.data.name),e.xp6(3),e.Q6J("ngModel",o.data.description),e.xp6(4),e.Q6J("mat-dialog-close",o.data))},directives:[d.Fj,d.JJ,d.On,c.H8,v.lW,c.ZT],encapsulation:2}),i})();const _=[{path:"",component:C}];let R=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[l.Bz.forChild(_)],l.Bz]}),i})(),A=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i,bootstrap:[C]}),i.\u0275inj=e.cJS({imports:[[f.ez,R,u.Nh,v.ot,d.u5,c.Is]]}),i})()}}]);